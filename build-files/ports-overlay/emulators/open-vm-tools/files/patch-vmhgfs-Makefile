*** modules/freebsd/vmhgfs/Makefile.orig	Wed Apr 17 17:12:22 2013
--- modules/freebsd/vmhgfs/Makefile	Thu Jul 11 01:14:46 2013
***************
*** 47,53 ****
  .endif
  
  COMMON_HGFS_SRCS := debug.c
! COMMON_HGFS_SRCS := bdhandler.c
  COMMON_HGFS_SRCS += request.c
  COMMON_HGFS_SRCS += worker.c
  COMMON_HGFS_SRCS += fsutil.c
--- 47,53 ----
  .endif
  
  COMMON_HGFS_SRCS := debug.c
! COMMON_HGFS_SRCS += bdhandler.c
  COMMON_HGFS_SRCS += request.c
  COMMON_HGFS_SRCS += worker.c
  COMMON_HGFS_SRCS += fsutil.c
***************
*** 93,114 ****
     CFLAGS += -Ishared
  .endif
  
- #
- # FreeBSD's kernel module build system defines a bunch of additional warning
- # flags for the compiler in addition to -Wall -Werror.  However, some of these,
- # like -Wredundant-decls, are overkill.  To get around this, I copied their list
- # of warning flags, but explicitly disabled a few.
- #
- CWARNFLAGS := -Wall
- CWARNFLAGS += -Werror
- CWARNFLAGS += -Wno-redundant-decls
- CWARNFLAGS += -Wnested-externs
- CWARNFLAGS += -Wstrict-prototypes
- CWARNFLAGS += -Wno-missing-prototypes
- CWARNFLAGS += -Wpointer-arith
- CWARNFLAGS += -Winline
- CWARNFLAGS += -Wcast-qual
- 
  EXPORT_SYMS = NO
  
  .include <bsd.kmod.mk>
--- 93,99 ----
     CFLAGS += -Ishared
  .endif
  
  EXPORT_SYMS = NO
  
+ .include <bsd.own.mk>
  .include <bsd.kmod.mk>
